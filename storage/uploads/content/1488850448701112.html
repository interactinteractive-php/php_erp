<!DOCTYPE html>
<html>
	<head>
	</head>
	<body>
<div class="contentHtml_1488850448701112">
<div class="row">
<div class="contentHtml_1486098660425571"><br />
<table width="100%">
<tbody>
<tr style="height: 110px;">
<td style="width: 0.52521%; height: 110px;">&nbsp;</td>
<td style="width: 16%; background-color: #f6f9f9; height: 110px;"><span style="font-family: 'comic sans ms', sans-serif;">&nbsp;</span></td>
<td style="background-color: #f6f9f9; height: 110px; width: 65%; text-align: center;">
<h1 class="title"><span style="font-family: comic sans ms,sans-serif;">SQL FOREIGN KEY Constraint<br /></span></h1>
</td>
<td style="width: 16%; background-color: #f6f9f9; height: 110px;"><span style="font-family: 'comic sans ms', sans-serif;">&nbsp;</span></td>
<td style="width: 0.52521%; height: 110px;"><span style="font-family: 'comic sans ms', sans-serif;">&nbsp;</span></td>
</tr>
<tr style="height: 271px;">
<td style="width: 0.52521%; height: 271px;"><span style="font-family: 'comic sans ms', sans-serif;">&nbsp;</span></td>
<td style="width: 16%; background-color: #f6f9f9; height: 271px;"><span style="font-family: 'comic sans ms', sans-serif;">&nbsp;</span></td>
<td style="background-color: #f6f9f9; height: 271px; width: 65%; text-align: justify;"><span style="font-family: 'comic sans ms', sans-serif;"><span style="font-family: 'comic sans ms', sans-serif;">Энэ нь өгөгдлийн сангийн 2 болон түүнээс дээш хүснэгтийг хооронд нь холбож ашиглах боломжийг олгодог&nbsp;түлхүүр юм. Гадаад түлхүүр нь өөр нэг хүснэгтийн анхдагч түлхүүр талбар байдаг.</span></span><br /><br /><span style="font-family: 'comic sans ms', sans-serif;"><span style="font-family: 'comic sans ms', sans-serif;"><strong>Хэрэглээ</strong>: Foreign Key хязгаарлалт нь холбоотой хүснэгтүүдийн бичлэгийг устгахаас сэргийлдэг. Мөн гадаад түлхүүрээр тодорхойлсон талбарт буруу утгатай өгөгдөл оруулахаас сэргийлдэг. Учир нь тухайн гадаад түлхүүр талбар нь өөр нэг хүснэгтийн анхдагч түлхүүр байдаг.</span></span><span style="font-family: 'comic sans ms', sans-serif;"><br /></span><span style="font-family: 'comic sans ms', sans-serif;"><span style="font-family: 'comic sans ms', sans-serif;"><span style="font-family: 'comic sans ms', sans-serif;"><span style="color: #0000ff;"><span style="color: #000000;"><br /></span></span>Жишээ-1: Хүснэгтийг үүсгэх үед гадаад түлхүүр талбар тодорхойлж болдог. Тэгвэл Orders хүснэгтийг гадаад түлхүүр талбартай үүсгэхдээ дараах байдлаар бичнэ. <br /><br /><strong>MySQL:</strong><br /><span style="color: #0000ff;">CREATE TABLE</span> <span style="color: #ff0000;">Orders</span> (<br />&nbsp;&nbsp;&nbsp; <span style="color: #ff0000;">OrderID</span> <span style="color: #0000ff;">int NOT NULL</span>,<br />&nbsp;&nbsp;&nbsp; <span style="color: #ff0000;">OrderNumber</span><span style="color: #0000ff;"> int NOT NULL</span>,<br />&nbsp;&nbsp;&nbsp; <span style="color: #ff0000;">PersonID</span> <span style="color: #0000ff;">int</span>,<br />&nbsp;&nbsp;&nbsp; <span style="color: #0000ff;">PRIMARY KEY</span> (<span style="color: #ff0000;">OrderID</span>),<br />&nbsp;&nbsp;&nbsp; <span style="color: #0000ff;">FOREIGN KEY</span> (<span style="color: #ff0000;">PersonID</span>) <span style="color: #0000ff;">REFERENCES</span> <span style="color: #ff0000;">Persons</span>(<span style="color: #ff0000;">PersonID</span>)<br />);<br /><br /><strong>SQL Server / Oracle / MS Access:</strong><br /><span style="color: #0000ff;">CREATE TABLE</span> <span style="color: #ff0000;">Orders</span> (<br />&nbsp;&nbsp;&nbsp; <span style="color: #ff0000;">OrderID</span> <span style="color: #0000ff;">int</span> <span style="color: #0000ff;">NOT NULL PRIMARY KEY</span>,<br />&nbsp;&nbsp;&nbsp; <span style="color: #ff0000;">OrderNumber</span><span style="color: #0000ff;"> int NOT NULL</span>,<br />&nbsp;&nbsp;&nbsp; <span style="color: #ff0000;">PersonID</span> <span style="color: #0000ff;">int FOREIGN KEY REFERENCES</span> <span style="color: #ff0000;">Persons</span>(<span style="color: #ff0000;">PersonID</span>)<br />);<br /><br />Жишээ-2: Constraint команд нь тухайн хязгаарлалтыг нэрлэх боломж олгодог бөгөөд олон баганаар гадаад түлхүүрийг тодорхойлох боломж олгодог. Тэгвэл Orders хүснэгтийг гадаад түлхүүр талбартай үүсгэхдээ Constraint командыг ашиглан дараах байдлаар бичнэ.<br /><br /><strong>MySQL / SQL Server / Oracle / MS Access:</strong><br /><span style="color: #0000ff;">CREATE TABLE</span> <span style="color: #ff0000;">Orders</span> (<br />&nbsp;&nbsp;&nbsp; <span style="color: #ff0000;">OrderID</span> <span style="color: #0000ff;">int NOT NULL</span>,<br />&nbsp;&nbsp;&nbsp; <span style="color: #ff0000;">OrderNumber</span><span style="color: #0000ff;"> int NOT NULL</span>,<br />&nbsp;&nbsp;&nbsp; <span style="color: #ff0000;">PersonID</span> <span style="color: #0000ff;">int</span>,<br />&nbsp;&nbsp;&nbsp; <span style="color: #0000ff;">PRIMARY KEY</span> (<span style="color: #ff0000;">OrderID</span>),<br />&nbsp;&nbsp;&nbsp; <span style="color: #0000ff;">CONSTRAINT</span> <span style="color: #ff0000;">FK_PersonOrder</span> <span style="color: #0000ff;">FOREIGN</span> <span style="color: #0000ff;">KEY</span> (<span style="color: #ff0000;">PersonID</span>)<br />&nbsp;&nbsp;&nbsp; <span style="color: #0000ff;">REFERENCES</span> <span style="color: #ff0000;">Persons</span>(<span style="color: #ff0000;">PersonID</span>)<br />);<br /><br />Дээрх query -д CONSTRAINT командаар <strong>FK_PersonOrder</strong> нэртэй Foreign key хязгаарлалтыг <strong>PersonID</strong>&nbsp;багана дээр үүсгэхийг тодорхойлж өгсөн байна. Энд REFERENCES нь гадаад түлхүүр болгон зарлах гэж буй хүснэгтийн анхдагч түлхүүр талбарыг заах үүрэгтэй.<br /></span></span></span><span style="font-family: 'comic sans ms', sans-serif;"><br />Жишээ-3: Тухайн хүснэгтийг аль хэдийн үүсгэсэн бол ALTER TABLE командаар засахдаа Constraint тодорхойлж болно. Orders хүснэгтийг үүсгэсэн гэж үзээд ProductID талбарыг гадаад түлхүүр талбар болгохдоо дараах байдлаар тодорхойлж бичнэ.&nbsp;<br /><br /><strong>MySQL / SQL Server / Oracle / MS Access:</strong><br /><span style="color: #0000ff;">ALTER TABLE <span style="color: #ff0000;">Orders</span> ADD FOREIGN KEY <span style="color: #000000;">(</span><span style="color: #ff0000;">PersonID</span><span style="color: #000000;">)</span> REFERENCES <span style="color: #ff0000;">Persons</span><span style="color: #000000;">(</span><span style="color: #ff0000;">PersonID</span><span style="color: #000000;">);</span><br /><br /><span style="color: #333333;">Constraint команд ашиглан Foreign Key үүсгэж нэрлэх бол дараах байдлаар бичиж болно. Хязгаарлалтыг нэрлэж үүсгэвэл тухайн нэрээр хандаж засвар өөрчлөлт болон устгах үйлдлийг шууд хийх боломж олгодог.<br /></span><br />ALTER TABLE</span> <span style="color: #0000ff;"><span style="color: #ff0000;">Orders </span>ADD CONSTRAINT</span> <span style="color: #ff0000;">FK_PersonOrder</span> <span style="color: #0000ff;">FOREIGN</span> <span style="color: #0000ff;">KEY</span> (<span style="color: #ff0000;">PersonID</span>) <span style="color: #0000ff;">REFERENCES</span> <span style="color: #ff0000;">Persons</span>(<span style="color: #ff0000;">PersonID</span>);<br /><br />Жишээ-4: Тухайн үүсгэсэн Foreign Key шаардлагагүй гэж үзээд ALTER TABLE DROP командын тусламжтай устгах бол дараах байдлаар бичнэ.<br /><br /><strong>MySQL:</strong><br /><span style="color: #ff0000;"><span style="color: #0000ff;">ALTER TABLE</span> Orders <span style="color: #0000ff;">DROP FOREIGN KEY</span> FK_PersonOrder<span style="color: #000000;">;</span><br /><br /></span><strong>SQL Server / Oracle / MS Access:</strong><br /><span style="color: #0000ff;">ALTER TABLE</span> <span style="color: #ff0000;">Orders</span> <span style="color: #0000ff;">DROP CONSTRAINT</span> <span style="color: #ff0000;">FK_PersonOrder</span>;<br /><br /><em><span style="color: #30a2dd;">Зураг 01 -с Persons хүснэгтийг харна уу.</span></em><br /></span></td>
<td style="width: 16%; background-color: #f6f9f9; height: 271px;"><span style="font-family: 'comic sans ms', sans-serif;">&nbsp;</span></td>
<td style="width: 0.52521%; height: 271px;"><span style="font-family: 'comic sans ms', sans-serif;">&nbsp;</span></td>
</tr>
<tr style="height: 214px;">
<td style="width: 0.52521%; height: 214px;">&nbsp;</td>
<td style="width: 16%; background-color: #f6f9f9; height: 214px;">&nbsp;</td>
<td style="background-color: #f6f9f9; height: 214px; width: 65%; text-align: right;"><span style="font-family: 'comic sans ms', sans-serif;"><span style="font-family: 'comic sans ms', sans-serif;"><img src="storage/uploads/files/SQL_TUTORIAL/SQL_TABLE/SQL_ALTER_TABLE/person.PNG" alt="" width="919" height="166" /><br /><em><span style="color: #30a2dd;">Зураг 01 Persons хүснэгт</span></em></span></span></td>
<td style="width: 16%; background-color: #f6f9f9; height: 214px;">&nbsp;</td>
<td style="width: 0.52521%; height: 214px;">&nbsp;</td>
</tr>
<tr style="height: 41px;">
<td style="width: 0.52521%; height: 41px;">&nbsp;</td>
<td style="width: 16%; background-color: #f6f9f9; height: 41px;">&nbsp;</td>
<td style="background-color: #f6f9f9; height: 41px; width: 65%; text-align: justify;"><span style="font-family: 'comic sans ms', sans-serif;"><em><span style="color: #30a2dd;">Зураг 02 -с Orders&nbsp;хүснэгтийг харна уу.</span></em></span></td>
<td style="width: 16%; background-color: #f6f9f9; height: 41px;">&nbsp;</td>
<td style="width: 0.52521%; height: 41px;">&nbsp;</td>
</tr>
<tr style="height: 244px;">
<td style="width: 0.52521%; height: 244px;">&nbsp;</td>
<td style="width: 16%; background-color: #f6f9f9; height: 244px;">&nbsp;</td>
<td style="background-color: #f6f9f9; height: 244px; width: 65%; text-align: center;"><img style="display: block; margin-left: auto; margin-right: auto;" src="storage/uploads/files/SQL_TUTORIAL/SQL_TABLE/fk_order.PNG" alt="" width="465" height="207" /><span style="font-family: 'comic sans ms', sans-serif;"><em><span style="color: #30a2dd;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Зураг 02 PersonID гадаад түлхүүр талбартай Orders&nbsp;хүснэгт</span></em></span></td>
<td style="width: 16%; background-color: #f6f9f9; height: 244px;">&nbsp;</td>
<td style="width: 0.52521%; height: 244px;">&nbsp;</td>
</tr>
<tr style="height: 68px;">
<td style="width: 0.52521%; height: 68px;">&nbsp;</td>
<td style="width: 16%; background-color: #f6f9f9; height: 68px;">&nbsp;</td>
<td style="background-color: #f6f9f9; height: 68px; width: 65%; text-align: justify;"><span style="font-family: 'comic sans ms', sans-serif;">Дээрх зурагт Orders хүснэгтийн PersonID талбар тухайн хүснэгтийн гадаад түлхүүр болох бөгөөд зураг 1 -т харуулсан Persons хүснэгтийн анхдагч түлхүүр буюу ID юм. Нэг хүн олон захиалга өгч болох учир Persons хүснэгтийн ID талбар Orders хүснэгтийн гадаад түлхүүр болж тодорхойлогдоно.</span></td>
<td style="width: 16%; background-color: #f6f9f9; height: 68px;">&nbsp;</td>
<td style="width: 0.52521%; height: 68px;">&nbsp;</td>
</tr>
<tr style="height: 30px;">
<td style="width: 0.52521%; height: 30px;"><span style="font-family: 'comic sans ms', sans-serif;">&nbsp;</span></td>
<td style="width: 16%; background-color: #f6f9f9; height: 30px;"><span style="font-family: 'comic sans ms', sans-serif;">&nbsp;</span></td>
<td style="background-color: #f6f9f9; height: 30px; width: 65%; text-align: center;"><span style="font-family: comic sans ms,sans-serif;"><strong><span id="Footertext.Ra1.C2" class="footer_lg"><span id="dispFooter4" class="simpletext">Танд санал хүсэлт байвал Интерактив компанийн 7777-8282 дугаарт хандана уу, эсвэл</span></span> <a href="#">энд</a> дарж и-мэйл илгээнэ үү!</strong> </span></td>
<td style="width: 16%; background-color: #f6f9f9; height: 30px;"><span style="font-family: 'comic sans ms', sans-serif;">&nbsp;</span></td>
<td style="width: 0.52521%; height: 30px;"><span style="font-family: 'comic sans ms', sans-serif;">&nbsp;</span></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</body>
</html>